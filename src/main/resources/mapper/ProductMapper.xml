<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.groupfour.foodbox.mapper.ProductMapper">
    <insert parameterType="Map" id="adminProductRegister">
        INSERT INTO product( prod_cat_code, prod_name, prod_brand, prod_madedate,prod_price,
        prod_qty, prod_thumbnail, prod_comment, prod_country, prod_spec)
        VALUES( #{prod_cat_code}, #{prod_name}, #{prod_brand}, #{prod_madedate}, #{prod_price},#{prod_qty}, #{prod_thumbnail},
         #{prod_comment}, #{prod_country}, #{prod_spec})
    </insert>

    <insert id="adminProductImageRegister">
        INSERT INTO product_image(image_prod_code, image_prod_image)VALUES((SELECT prod_code FROM product ORDER BY prod_code DESC LIMIT 1), #{image_prod_image})
    </insert>
    <select id="productList" resultType="productDTO">
        SELECT * FROM product
    </select>
    <select id="productInfo" resultType="productDTO">
        SELECT * FROM product WHERE prod_code=#{prod_code}
    </select>
    <select id="productImageList" resultType="String">
        SELECT image_prod_image FROM product_image WHERE image_prod_code=#{prod_code}
    </select>
</mapper>